package builders;

public class UserBuilder {
    String email        = getValeurChamp( request, CHAMP_EMAIL );
    String motDePasse   = getValeurChamp( request, CHAMP_PASS );
    String confirmation = getValeurChamp( request, CHAMP_CONF );
    String nom          = getValeurChamp( request, CHAMP_NOM );

    User User = new User();

    try
    {
        validationEmail( email );
    }catch(
    Exception e)
    {
        setErreur( CHAMP_EMAIL, e.getMessage() );
    }utilisateur.setEmail(email);

    try
    {
        validationMotsDePasse( motDePasse, confirmation );
    }catch(
    Exception e)
    {
        setErreur( CHAMP_PASS, e.getMessage() );
        setErreur( CHAMP_CONF, null );
    }utilisateur.setMotDePasse(motDePasse);

    try
    {
        validationNom( nom );
    }catch(
    Exception e)
    {
        setErreur( CHAMP_NOM, e.getMessage() );
    }utilisateur.setNom(nom);

    if(erreurs.isEmpty())
    {
        resultat = "Succès de l'inscription.";
    }else
    {
        resultat = "Échec de l'inscription.";
    }

    return utilisateur;
}
